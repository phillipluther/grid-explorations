<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>8pt Hard Grid w/4pt Text Baseline</title>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css">
        <link rel="stylesheet" href="styles.css">
    </head>

    <body>
        <div class="toggles">
            <button class="toggle-grid-8pt" type="button">8pt Grid Lines</button>
            <button class="toggle-grid-4pt" type="button">Text Baselines</button>
            <button class="toggle-lineHeight" type="button">Line Height Markers</button>
        </div>

        <div class="grid-4pt"></div>
        <div class="grid-8pt"></div>

        <main class="container">
            <header class="header">
                <h1>8pt Hard Grid with 4pt Text Baseline</h1>
                <p>
                    This is a quick implementation of a grid system to demonstrate the basic
                    concepts. Element spacing, margins/padding, and line heights snap to an 8pt
                    grid; text baselines snap to a 4pt vertical grid.
                </p>
            </header>

            <section>
                <h2>The High Level Stuff</h2>
                <p>
                    We're making an 8pt hard grid at a 1x pixel ratio (8pt @1x). That's a high-
                    falutin' way of saying, "It's an 8px grid." We call it "hard" because every
                    container must snap to our grid lines, both horizontally and vertically.
                </p>
                <p>
                    Our system will also include a 4pt vertical grid (also @1x ... so 4px) for
                    aligning text baselines. Think of this as a "sub" grid that applies only to
                    typography. The overall size of text blocks will snap to the 8px grid, but
                    <em>lines</em> of text get baselined to 4px increments instead of 8.
                </p>
                <p>
                    We'll dig into these things later, but to start we'll need to define some rules
                    governing the grid.
                </p>

                <h3>Our Rules</h3>
                <p>
                    As this is an exploration/experiment, we'll embrace dogma. In practical
                    application we'd likely finesse (aka, break) some of these rules for aesthetic
                    reasons, but we can only do that after getting a handle on the basics so we know
                    how tinkering with measurements affects our grid.
                </p>
                <p>For this demo, incontrovertibly:</p>
                <ul>
                    <li class="lineHeight">
                        All containers - banners, cards, text blocks, tables, etc. - must be sized
                        such that they snap to the 8px grid.
                    </li>
                    <li class="lineHeight">
                        All text baselines - paragraphs, headings, footnotes - must baseline to the
                        4px sub-grid.
                    </li>
                    <li class="lineHeight">
                        All distances - widths, heights (including line heights), margins, padding,
                        etc. - must render as multiples of 8. That's effectively our hard grid.
                    </li>
                    <li class="lineHeight">
                        Negative space between items - columns, text blocks, images, etc. -
                        must render as a multiple of 8. Again, hard grid.
                    </li>
                    <li>
                        <p>
                            "Regular" fonts will be two-thirds (0.6667) the height of their line
                            height, resulting in 1.5 leading. This snaps them to the 4pt text
                            baseline.
                        </p>
<pre><code class="css">
line-height: 24px;
font-size: 16px; /* 24 * 0.6667 = 16 */
/* We could also do this math as 24 / 1.5 = 16 */
</code></pre>
                    </li>
                    <li>
                        <p>
                            Headings will be 80% the height of their line height, resulting in 1.25
                            leading. This snaps them to the 4pt text baseline.
                        </p>
<pre><code class="css">
line-height: 40px;
font-size: 32px; /* 40 * 0.8 = 32 */
/* We could also do this math as 40 / 1.25 = 32 */
</code></pre>
                    </li>
                </ul>
                <p>
                    <strong>NOTE:</strong> We're not actually going to using explicit pixel values
                    to set our font sizes and line heights, opting for rems instead. We'll get into
                    this later; for now, just know the above CSS examples are for clarity.
                </p>

                <h3>Our Disclaimers</h3>
                <blockquote>
                    This is so UGLY! Why is this font this way? Why is that margin that way? I found
                    one thing I don't care for, negating everything you say from this point on.
                </blockquote>
                <cite>- Top Ultrapro Designer (link to dribbble)</cite>
                <p>
                    This is a demo. It is not robust, nor complete, nor a plug-and-play system ready
                    for anybody to pick up and start app'ing. Our CSS only includes stuff we need
                    to demonstrate a few points and start discussions.
                </p>
                <p>
                    That said, the basics are in place. Nothing is fudged or cheated. It's a strict
                    8pt/4pt grid.
                </p>
                <p>
                    If you're not diggin' the choices made RE: margins or font-sizes, you're
                    welcome to pop open your browser's inspector and modify them. That's encouraged,
                    in fact, to see how it improves or breaks the grid.
                </p>

                <h4>And Actually, While We're Making Caveats ...</h4>
                <p>Here's a quick warning for the absolutists out there.</p>
                <p>
                    You'll notice rendered text might be 1px above/below the text baseline grid.
                    For simplicity, I'm using system fonts. Good ol' <strong>sans-serif</strong>
                    and <strong>serif</strong>. I have no idea what those fonts might be or how they
                    might render on your system.
                </p>
                <p>
                    Since every font has a different x-height, it's tough (impossible?) to create
                    a universal hard grid that works <em>perfectly</em> for every font face. Those
                    1px oddities can be overcome by finessing the numbers for <em>your</em> specific
                    fonts, but calling back to our dogma - we're taking the simple, purist approach
                    because this is just a demo.
                </p>
            </section>

            <section>
                <h2>Px It, Rem It, or Em It</h2>
                <p>
                    This demo uses rems for all measurements because it simplifies things
                    significantly. We've set our base font size to 16px (kinda ... more on that
                    later), and all rem values will reference that base 16.
                </p>
<pre><code class="css">
html { font-size: 1em; }
/* all browsers that matter default their font size to 16px */
</code></pre>
                <p>
                    16 happens to scale beautifully by 8, and hey! We've got an 8px grid! Groovy.
                </p>
                <p>
                    Managing spacing and distance in our CSS is a breeze since we'll only ever be
                    dealing with 0.5 rem increments - 8px under the hood. If something isn't
                    divisible by 0.5 rems, it ain't hard gridded.
                </p>
<pre><code class="css">
.my-div {
    padding: 1rem; /* 16px all the way 'round */
    margin: 2rem 0; /* 32px on the top and bottom */
}

p {
    line-height: 1.5rem; /* 24px */
}
</code></pre>
                <p>
                    Also, since everything is a relative unit we could theoretically change our
                    entire grid by simply updating the base unit. Want a 10px grid instead of 8?
                    Swap that HTML font size from 16px to 20px and all those rems will handle the
                    rest.
                </p>

                <h3>Why Not Ems?</h3>
                <p>
                    We could use ems to achieve the same results as with rems, though the math gets
                    a little trickier. Rem'ed values derive their size from our base font size;
                    em'ed values get their size relative to their parent container's font.
                </p>
<pre><code class="html">
&lt;style&gt;
    html { font-size: 16px; } /* base */
    .biggerFont { font-size: 20px; } /* scaled up */
    /* again, using px value for demo clarity */

    .emSizePadding { padding: 2em; }
    .remSizePadding { padding: 2rem; }
&lt;/style&gt;

&lt;div class="biggerFont"&gt;
    &lt;div clsas="remSizePadding"&gt; &lt;!-- 32px padding (Base x 2)--&gt;
        Padded using rems
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class="biggerFont"&gt;
    &lt;div class="emSizePadding"&gt; &lt;!-- 40px padding (Bigger font x 2)--&gt;
        Padded using ems
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
                <!-- <div style="font-size:20px;">
                    <div class="demo-block neutral" style="padding:2rem;">
                        <span class="lineHeight">Padded using rems</span>
                    </div>
                    <div class="demo-block neutral" style="padding:2em;">
                        <span class="lineHeight">Padded using ems</span>
                    </div>
                </div> -->

                <p>
                    Ems start to get complicated when nesting containers since we have to be aware
                    of values other than our base unit. If we're creating helper or utility classes
                    to use in our markup, we'd probably get some unexpected results - or at least
                    results that are tricky to predict - depending on usage inside of containers
                    whose fonts may be scaled up or down.
                </p>

                <h3>Why Not Pixels?</h3>
                <p>
                    Since we're dealing with known increments - multiples of 8px - it'd be easy
                    enough to just hard-code values for padding, margin, width, height, etc.
                </p>
<pre><code>
.my-div {
    margin: 24px; /* instead of 1.5rem */
    padding: 16px; /* instead of 1rem */
    height: 80px; /* instead of 10rem */
}
</code></pre>
                <p>
                    If we're using vanilla CSS, we'd have to update these values manually if we
                    decided to change our grid. When going from an 8px grid to a 10px grid, for
                    example, we'd have to go through our stylesheets and change every instance of
                    24px to 30px. If we were using rems, we wouldn't.
                </p>
                <p>
                    Granted, that's not very realistic; grids are meant to provide consistency and
                    ease when creating layouts and we wouldn't likely change the whole system on a
                    whim. The pain of manually updating values also disappears if you're
                    incorporating something like Sass or PostCSS, or taking advantage of
                    freshly(ish)-implemented pure CSS variables.
                </p>

                <h4>Text Resize</h4>
                <p>
                    One other consideration when using hard-coded pixel values is text resizing, the
                    user's ability to scale font sizes up or down at the browser level. This is
                    wholly different than zoom; zooming scales <em>everything</em> proportionally.
                    Text resizing affects only font sizes and has no impact on explicitly defined
                    heights, widths, or other offsets.
                </p>
                <p>
                    There are a number of reasons why a user might do this: from increasing the font
                    size because of a visual impairment, to decreasing the font size to fit more
                    info on the screen, to personal preference.
                </p>
                <p>
                    If we hard-code our grid values in pixels and a user resizes his/her text, the
                    whole grid breaks. If we use relative units, our grid will still work. It'll
                    simply inherit from the user's base font size. Our meticulously crafted spacing,
                    vertical rhythm, and general layout will still be in place ... albeit at some
                    other pixel scale.
                </p>
                <p>
                    Compare the two text blocks below. The first is coded using explicit pixel
                    values and the second is using relative units. Scale the text up or down in your
                    browser - again, not zoom! - to check out the difference.
                </p>
<pre><code class="css">
.textBlock-1 p {
    font-size: 16px;
    line-height: 24px;
    margin-bottom: 24px;
}

.textBlock-2 p {
    font-size: 1rem;
    line-height: 1.5rem;
    margin-bottom: 1.5rem;
}
</code></pre>
                <div class="flex">
                    <div class="demo-block bad">
                        <div style="padding:16px;background:white;">
                            <p style="font-size:16px;line-height:24px;margin-bottom:24px">
                                This is a line of text; it's a simple paragraph tag.
                            </p>
                            <p style="font-size:16px;line-height:24px;margin-bottom:24px">
                                Here's another chunk of text, again in a simple paragraph tag but
                                with longer lines that wrap and naturally flow. By default it
                                should look just like the other one.
                            </p>
                            <p style="font-size:16px;line-height:24px;margin-bottom:24px">
                                Upon resizing text in your browser, however, the differences start
                                to show up. Especially in the padding and margins.
                            </p>
                        </div>
                    </div>
                    <div class="demo-block good">
                        <div style="padding:1rem;background:white;">
                            <p style="font-size:1rem;line-height:1.5rem;margin-bottom:1.5rem">
                                This is a line of text; it's a simple paragraph tag.
                            </p>
                            <p style="font-size:1rem;line-height:1.5rem;margin-bottom:1.5rem">
                                Here's another chunk of text, again in a simple paragraph tag but
                                with longer lines that wrap and naturally flow. By default, it
                                should look just like the other one.
                            </p>
                            <p style="font-size:1rem;line-height:1.5rem;margin-bottom:1.5rem">
                                Upon resizing text in your browser, however, the differences start
                                to show up. Especially in the padding and margins.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <script src="scripts.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
            hljs.initHighlightingOnLoad();
        </script>
    </body>
</html>
